var tracks = [];


function initialise(){
	requestData("tracks.json", parseJSON);
}

//standard function for requesting data
function requestData(url, callBack)
{
	// Create a new XMLHttpRequest object
	var xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
		if (xmlhttp.readyState == 4) {
			callBack(xmlhttp);
		}
	}
	// Open the object with the filename
	xmlhttp.open("POST", url, true);
	// Send the request
	xmlhttp.send(null);
}


function parseJSON(xmlhttp){
        // Extract the list of teams from JSON
        var jsonDoc = JSON.parse(xmlhttp.responseText);
        var jsonContents = jsonDoc.tracks;
       //get info about each track
        for (var i = 0; i < jsonContents.length; i++) {
            var jc = jsonContents[i];
            //create an object storing this info
            var track = {
                name : jc.track_name,
                art : jc.artwork_url,
                streams : jc.num_streams
            };

            //add to the global list of teams
            tracks.push(track);
        }
       
    }